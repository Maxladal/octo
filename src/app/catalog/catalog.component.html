<div>
    <span *ngFor="let topic of (catalogState | async).topics; let i = index">
        <span *ngIf="topic.expanded && topic.category">
            <li class="list-group-item" *ngFor="let cat of topic.category.categories; let j = index">
                <span *ngIf="!cat.isExpanded">
                    <span (click)="onClickCategory(cat, [i, j])">{{ cat.label }}</span>
                    <span *ngIf="cat.type != 'layer'" class="badge badge-primary badge-pill float-right">{{ cat.categories.length }}</span>
                </span>
                <app-category *ngIf="cat.isExpanded" [category]="cat" [treeLocation]="[i, j]"></app-category>
            </li>
        </span> 
    </span>
</div>